{"ast":null,"code":"var _jsxFileName = \"/Users/jh/dev/cshyper/src/components/Form.js\";\nimport React from \"react\";\nimport dragula from \"react-dragula\";\nimport firebase from \"firebase\";\n\nclass Form extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      rankedTeams: {},\n      numOfTeamsRanked: 0\n    };\n    this.countTeams = this.countTeams.bind(this);\n    this.completeRankings = this.completeRankings.bind(this);\n  }\n\n  pushFirestore(submission) {\n    let db = firebase.firestore();\n    db.collection(\"rankings\").add(submission);\n  }\n\n  completeRankings() {\n    let name = prompt(\"What is your name?\");\n    let country = prompt(\"What country are you from?\");\n    let date = Date();\n    let submission = {\n      Ranker: name,\n      Country: country,\n      Date: date\n    };\n    let rank = 0;\n    document.querySelectorAll(\"#dropTarget div\").forEach(element => submission[++rank] = element.innerText);\n    this.pushFirestore(submission);\n  }\n\n  countTeams() {\n    let rankedTeams = {};\n    let rank = 0;\n    document.querySelectorAll(\"#dropTarget div\").forEach(element => rankedTeams[++rank] = element.innerText);\n    this.setState({\n      rankedTeams: rankedTeams,\n      numOfTeamsRanked: Object.keys(rankedTeams).length\n    });\n  }\n\n  render() {\n    const listTeams = this.props.unrankedTeams.map(team => /*#__PURE__*/React.createElement(\"div\", {\n      id: team,\n      className: \"formElem\",\n      key: team,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }\n    }, team));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"titleBox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }\n    }, \"Last Week's Rankings\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"titleBox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }, \"Your Rankings\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }\n    }, \"You have ranked \", this.state.numOfTeamsRanked, \" out of 20 teams. Please complete all 20 of your rankings before you submit.\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dragBox\",\n      id: \"dragElements\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, listTeams), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dragBox\",\n      id: \"dropTarget\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      disabled: this.state.numOfTeamsRanked !== 20,\n      id: \"formSubmit\",\n      onClick: this.completeRankings,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, \"submit\"));\n  }\n\n  componentDidMount() {\n    dragula([document.getElementById(\"dragElements\"), document.getElementById(\"dropTarget\")], {\n      revertOnSpill: true,\n      mirrorContainer: document.body\n    }).on(\"drop\", this.countTeams);\n  }\n\n}\n\nexport default Form;","map":{"version":3,"sources":["/Users/jh/dev/cshyper/src/components/Form.js"],"names":["React","dragula","firebase","Form","Component","constructor","props","state","rankedTeams","numOfTeamsRanked","countTeams","bind","completeRankings","pushFirestore","submission","db","firestore","collection","add","name","prompt","country","date","Date","Ranker","Country","rank","document","querySelectorAll","forEach","element","innerText","setState","Object","keys","length","render","listTeams","unrankedTeams","map","team","componentDidMount","getElementById","revertOnSpill","mirrorContainer","body","on"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport dragula from \"react-dragula\";\nimport firebase from \"firebase\";\n\nclass Form extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      rankedTeams: {},\n      numOfTeamsRanked: 0,\n    };\n    this.countTeams = this.countTeams.bind(this);\n    this.completeRankings = this.completeRankings.bind(this);\n  }\n  pushFirestore(submission) {\n    let db = firebase.firestore();\n    db.collection(\"rankings\").add(submission);\n  }\n  completeRankings() {\n    let name = prompt(\"What is your name?\");\n    let country = prompt(\"What country are you from?\");\n    let date = Date();\n    let submission = {\n      Ranker: name,\n      Country: country,\n      Date: date,\n    };\n    let rank = 0;\n    document\n      .querySelectorAll(\"#dropTarget div\")\n      .forEach((element) => (submission[++rank] = element.innerText));\n    this.pushFirestore(submission);\n  }\n  countTeams() {\n    let rankedTeams = {};\n    let rank = 0;\n    document\n      .querySelectorAll(\"#dropTarget div\")\n      .forEach((element) => (rankedTeams[++rank] = element.innerText));\n    this.setState({\n      rankedTeams: rankedTeams,\n      numOfTeamsRanked: Object.keys(rankedTeams).length,\n    });\n  }\n  render() {\n    const listTeams = this.props.unrankedTeams.map((team) => (\n      <div id={team} className=\"formElem\" key={team}>\n        {team}\n      </div>\n    ));\n\n    return (\n      <div className=\"Form\">\n        <div className=\"titleBox\">\n          <h2>Last Week's Rankings</h2>\n        </div>\n        <div className=\"titleBox\">\n          <h2>Your Rankings</h2>\n          <p>\n            You have ranked {this.state.numOfTeamsRanked} out of 20 teams.\n            Please complete all 20 of your rankings before you submit.\n          </p>\n        </div>\n        <div className=\"dragBox\" id=\"dragElements\">\n          {listTeams}\n        </div>\n        <div className=\"dragBox\" id=\"dropTarget\"></div>\n        <button\n          disabled={this.state.numOfTeamsRanked !== 20}\n          id=\"formSubmit\"\n          onClick={this.completeRankings}\n        >\n          submit\n        </button>\n      </div>\n    );\n  }\n  componentDidMount() {\n    dragula(\n      [\n        document.getElementById(\"dragElements\"),\n        document.getElementById(\"dropTarget\"),\n      ],\n      {\n        revertOnSpill: true,\n        mirrorContainer: document.body,\n      }\n    ).on(\"drop\", this.countTeams);\n  }\n}\n\nexport default Form;\n"]},"metadata":{},"sourceType":"module"}