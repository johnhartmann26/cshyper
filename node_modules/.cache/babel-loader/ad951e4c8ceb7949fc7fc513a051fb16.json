{"ast":null,"code":"var _jsxFileName = \"/Users/home/dev/cshyper/src/App.js\";\nimport React from \"react\";\nimport Header from \"./components/Header\";\nimport AdminButtons from \"./components/AdminButtons\";\nimport Table from \"./components/Table\";\nimport Form from \"./components/Form\";\nimport firebase from \"./firebase\";\nimport \"./App.css\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isHome: true,\n      numOfRankers: 0,\n      isAdmin: false,\n      rankedTeams: [],\n      rankings: []\n    };\n    this.setRankings = this.setRankings.bind(this);\n    this.toggleAdmin = this.toggleAdmin.bind(this);\n    this.switchTab = this.switchTab.bind(this);\n    this.callFirestore = this.callFirestore.bind(this);\n  }\n\n  callFirestore() {\n    console.log(this.state.rankings); // Get a reference to the database service\n\n    let db = firebase.firestore();\n    db.collection(\"rankings\").get().then(querySnapshot => {\n      querySnapshot.forEach(doc => {\n        this.setState(curr => {\n          let pushed = curr.rankings.concat(doc.data());\n          return {\n            rankings: pushed\n          };\n        });\n      });\n    });\n    setTimeout(setRankings);\n  }\n\n  setRankings() {\n    // https://sheetsu.com/apis/v1.0bu/b38ae2ae1f75\n    let response = [{\n      Ranker: \"HTLV\",\n      Country: \"Denmark\",\n      \"1\": \"EG\",\n      \"2\": \"Astralis\",\n      \"3\": \"Fnatic\",\n      \"4\": \"Liquid\",\n      \"5\": \"Vitality\",\n      \"6\": \"Avangar\",\n      \"7\": \"NIP\",\n      \"8\": \"100T\",\n      \"9\": \"Faze\",\n      \"10\": \"Furia\",\n      \"11\": \"mousesports\",\n      \"12\": \"navi\",\n      \"13\": \"g2\",\n      \"14\": \"ence\",\n      \"15\": \"mibr\",\n      \"16\": \"forze\",\n      \"17\": \"heroic\",\n      \"18\": \"CR4ZY\",\n      \"19\": \"Grayhound\",\n      \"20\": \"tricked\"\n    }, {\n      Ranker: \"Duckwalk\",\n      Country: \"USA\",\n      \"1\": \"EG\",\n      \"2\": \"Astralis\",\n      \"3\": \"100T\",\n      \"4\": \"Fnatic\",\n      \"5\": \"Liquid\",\n      \"6\": \"Vitality\",\n      \"7\": \"G2\",\n      \"8\": \"Faze\",\n      \"9\": \"nip\",\n      \"10\": \"Furia\",\n      \"11\": \"Navi\",\n      \"12\": \"Mousesports\",\n      \"13\": \"Heroic\",\n      \"14\": \"Ence\",\n      \"15\": \"Avangar\",\n      \"16\": \"MIBR\",\n      \"17\": \"CR4ZY\",\n      \"18\": \"North\",\n      \"19\": \"Grayhound\",\n      \"20\": \"forZe\"\n    }, {\n      Ranker: \"kayzeno\",\n      Country: \"USA\",\n      \"1\": \"EG\",\n      \"2\": \"Astralis\",\n      \"3\": \"Fnatic\",\n      \"4\": \"Liquid\",\n      \"5\": \"G2\",\n      \"6\": \"100T\",\n      \"7\": \"Vitality\",\n      \"8\": \"NIP\",\n      \"9\": \"Faze\",\n      \"10\": \"Furia\",\n      \"11\": \"Mousesports\",\n      \"12\": \"Navi\",\n      \"13\": \"MIBR\",\n      \"14\": \"Heroic\",\n      \"15\": \"Ence\",\n      \"16\": \"Cr4zy\",\n      \"17\": \"North\",\n      \"18\": \"Avangar\",\n      \"19\": \"BIG\",\n      \"20\": \"Grayhound\"\n    }, {\n      Ranker: \"mayhem\",\n      Country: \"UK\",\n      \"1\": \"EG\",\n      \"2\": \"Astralis\",\n      \"3\": \"100T\",\n      \"4\": \"Liquid\",\n      \"5\": \"Fnatic\",\n      \"6\": \"Vitality\",\n      \"7\": \"G2\",\n      \"8\": \"NIP\",\n      \"9\": \"Navi\",\n      \"10\": \"Faze\",\n      \"11\": \"Mousesports\",\n      \"12\": \"heroic\",\n      \"13\": \"MIBR\",\n      \"14\": \"Grayhound\",\n      \"15\": \"North\",\n      \"16\": \"Furia\",\n      \"17\": \"CR4ZY\",\n      \"18\": \"Ence\",\n      \"19\": \"Avangar\",\n      \"20\": \"BIG\"\n    }, {\n      Ranker: \"riqatc\",\n      Country: \"USA\",\n      \"1\": \"EG\",\n      \"2\": \"Fnatic\",\n      \"3\": \"Astralis\",\n      \"4\": \"Liquid\",\n      \"5\": \"Vitality\",\n      \"6\": \"Furia\",\n      \"7\": \"100T\",\n      \"8\": \"G2\",\n      \"9\": \"NIP\",\n      \"10\": \"Faze\",\n      \"11\": \"Mousesports\",\n      \"12\": \"Heroic\",\n      \"13\": \"MIBR\",\n      \"14\": \"Avangar\",\n      \"15\": \"Navi\",\n      \"16\": \"Cr4zy\",\n      \"17\": \"Forze\",\n      \"18\": \"Ence\",\n      \"19\": \"Grayhound\",\n      \"20\": \"Tricked\"\n    }, {\n      Ranker: \"UHO\",\n      Country: \"Russia\",\n      \"1\": \"EG\",\n      \"2\": \"Astralis\",\n      \"3\": \"Vitality \",\n      \"4\": \"fnatic\",\n      \"5\": \"Liquid\",\n      \"6\": \"G2\",\n      \"7\": \"Avangar\",\n      \"8\": \"NiP\",\n      \"9\": \"navi\",\n      \"10\": \"Furia\",\n      \"11\": \"100T\",\n      \"12\": \"FaZe\",\n      \"13\": \"mousesports\",\n      \"14\": \"ENCE\",\n      \"15\": \"Mibr\",\n      \"16\": \"heroic\",\n      \"17\": \"North\",\n      \"18\": \"CR4ZY\",\n      \"19\": \"ForZe\",\n      \"20\": \"Grayhound\"\n    }, {\n      Ranker: \"H00V3R \",\n      Country: \"UK\",\n      \"1\": \"EG\",\n      \"2\": \"Astralis \",\n      \"3\": \"Fnatic\",\n      \"4\": \"100T\",\n      \"5\": \"Liquid\",\n      \"6\": \"Vitality\",\n      \"7\": \"Mousesports\",\n      \"8\": \"Furia\",\n      \"9\": \"G2\",\n      \"10\": \"FaZe\",\n      \"11\": \"Nip\",\n      \"12\": \"Navi\",\n      \"13\": \"CR4ZY\",\n      \"14\": \"Grayhound\",\n      \"15\": \"mibr\",\n      \"16\": \"Heroic\",\n      \"17\": \"Ence\",\n      \"18\": \"Avangar\",\n      \"19\": \"BIG\",\n      \"20\": \"North\"\n    }];\n    let rankings = [];\n    let allTeams = [];\n    this.setState({\n      numOfRankers: response.length\n    });\n\n    for (let i = 0; i < response.length; i++) {\n      let individualRanking = {\n        ranker: response[i][\"Ranker\"],\n        country: response[i][\"Country\"],\n        rankings: []\n      };\n\n      for (let j = 1; j < 21; j++) {\n        let team = response[i][j];\n        individualRanking.rankings.push(team);\n      }\n\n      rankings.push(individualRanking);\n    }\n\n    for (let i = 0; i < rankings.length; i++) {\n      for (let j = 0; j < rankings[i].rankings.length; j++) {\n        let team = rankings[i].rankings[j].toLowerCase().trim();\n        let pointsToAdd = 20 - j;\n        let index = allTeams.findIndex(obj => obj.name === team);\n\n        if (index === -1) {\n          allTeams.push({\n            name: team,\n            points: pointsToAdd,\n            best: j + 1,\n            worst: j + 1,\n            appearances: 1\n          });\n        } else {\n          allTeams[index].points += pointsToAdd;\n          allTeams[index].appearances += 1;\n\n          if (j < allTeams[index].best) {\n            allTeams[index].best = j + 1;\n          } else if (j > allTeams[index].worst) {\n            allTeams[index].worst = j + 1;\n          }\n        }\n      }\n    }\n\n    allTeams = allTeams.sort((a, b) => a.points < b.points ? 1 : -1);\n    this.setState({\n      rankedTeams: allTeams\n    });\n    console.log(this.state.rankedTeams);\n    return allTeams;\n  }\n\n  toggleAdmin() {\n    this.state.isAdmin ? this.setState({\n      isAdmin: false\n    }) : this.setState({\n      isAdmin: true\n    });\n  }\n\n  switchTab() {\n    this.state.isHome ? this.setState({\n      isHome: false\n    }) : this.setState({\n      isHome: true\n    });\n  }\n\n  render() {\n    if (this.state.isHome) {\n      // showRankingsPage\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, React.createElement(Header, {\n        isHome: this.state.isHome,\n        switch: this.switchTab,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }), React.createElement(AdminButtons, {\n        sheetsuCall: this.callFirestore,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }), React.createElement(Table, {\n        className: \"rankingsTable\",\n        rankedTeams: this.state.rankedTeams,\n        rankersCount: this.state.numOfRankers,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }));\n    } else {\n      // setRankingsPage\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, React.createElement(Header, {\n        isHome: this.state.isHome,\n        switch: this.switchTab,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      }), React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292\n        },\n        __self: this\n      }));\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/home/dev/cshyper/src/App.js"],"names":["React","Header","AdminButtons","Table","Form","firebase","App","Component","constructor","props","state","isHome","numOfRankers","isAdmin","rankedTeams","rankings","setRankings","bind","toggleAdmin","switchTab","callFirestore","console","log","db","firestore","collection","get","then","querySnapshot","forEach","doc","setState","curr","pushed","concat","data","setTimeout","response","Ranker","Country","allTeams","length","i","individualRanking","ranker","country","j","team","push","toLowerCase","trim","pointsToAdd","index","findIndex","obj","name","points","best","worst","appearances","sort","a","b","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Header from \"./components/Header\";\nimport AdminButtons from \"./components/AdminButtons\";\nimport Table from \"./components/Table\";\nimport Form from \"./components/Form\";\nimport firebase from \"./firebase\";\nimport \"./App.css\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isHome: true,\n      numOfRankers: 0,\n      isAdmin: false,\n      rankedTeams: [],\n      rankings: []\n    };\n    this.setRankings = this.setRankings.bind(this);\n    this.toggleAdmin = this.toggleAdmin.bind(this);\n    this.switchTab = this.switchTab.bind(this);\n    this.callFirestore = this.callFirestore.bind(this);\n  }\n\n  callFirestore() {\n    console.log(this.state.rankings);\n    // Get a reference to the database service\n    let db = firebase.firestore();\n    db.collection(\"rankings\")\n      .get()\n      .then(querySnapshot => {\n        querySnapshot.forEach(doc => {\n          this.setState(curr => {\n            let pushed = curr.rankings.concat(doc.data());\n            return {\n              rankings: pushed\n            };\n          });\n        });\n      });\n    setTimeout(setRankings);\n  }\n\n  setRankings() {\n    // https://sheetsu.com/apis/v1.0bu/b38ae2ae1f75\n    let response = [\n      {\n        Ranker: \"HTLV\",\n        Country: \"Denmark\",\n        \"1\": \"EG\",\n        \"2\": \"Astralis\",\n        \"3\": \"Fnatic\",\n        \"4\": \"Liquid\",\n        \"5\": \"Vitality\",\n        \"6\": \"Avangar\",\n        \"7\": \"NIP\",\n        \"8\": \"100T\",\n        \"9\": \"Faze\",\n        \"10\": \"Furia\",\n        \"11\": \"mousesports\",\n        \"12\": \"navi\",\n        \"13\": \"g2\",\n        \"14\": \"ence\",\n        \"15\": \"mibr\",\n        \"16\": \"forze\",\n        \"17\": \"heroic\",\n        \"18\": \"CR4ZY\",\n        \"19\": \"Grayhound\",\n        \"20\": \"tricked\"\n      },\n      {\n        Ranker: \"Duckwalk\",\n        Country: \"USA\",\n        \"1\": \"EG\",\n        \"2\": \"Astralis\",\n        \"3\": \"100T\",\n        \"4\": \"Fnatic\",\n        \"5\": \"Liquid\",\n        \"6\": \"Vitality\",\n        \"7\": \"G2\",\n        \"8\": \"Faze\",\n        \"9\": \"nip\",\n        \"10\": \"Furia\",\n        \"11\": \"Navi\",\n        \"12\": \"Mousesports\",\n        \"13\": \"Heroic\",\n        \"14\": \"Ence\",\n        \"15\": \"Avangar\",\n        \"16\": \"MIBR\",\n        \"17\": \"CR4ZY\",\n        \"18\": \"North\",\n        \"19\": \"Grayhound\",\n        \"20\": \"forZe\"\n      },\n      {\n        Ranker: \"kayzeno\",\n        Country: \"USA\",\n        \"1\": \"EG\",\n        \"2\": \"Astralis\",\n        \"3\": \"Fnatic\",\n        \"4\": \"Liquid\",\n        \"5\": \"G2\",\n        \"6\": \"100T\",\n        \"7\": \"Vitality\",\n        \"8\": \"NIP\",\n        \"9\": \"Faze\",\n        \"10\": \"Furia\",\n        \"11\": \"Mousesports\",\n        \"12\": \"Navi\",\n        \"13\": \"MIBR\",\n        \"14\": \"Heroic\",\n        \"15\": \"Ence\",\n        \"16\": \"Cr4zy\",\n        \"17\": \"North\",\n        \"18\": \"Avangar\",\n        \"19\": \"BIG\",\n        \"20\": \"Grayhound\"\n      },\n      {\n        Ranker: \"mayhem\",\n        Country: \"UK\",\n        \"1\": \"EG\",\n        \"2\": \"Astralis\",\n        \"3\": \"100T\",\n        \"4\": \"Liquid\",\n        \"5\": \"Fnatic\",\n        \"6\": \"Vitality\",\n        \"7\": \"G2\",\n        \"8\": \"NIP\",\n        \"9\": \"Navi\",\n        \"10\": \"Faze\",\n        \"11\": \"Mousesports\",\n        \"12\": \"heroic\",\n        \"13\": \"MIBR\",\n        \"14\": \"Grayhound\",\n        \"15\": \"North\",\n        \"16\": \"Furia\",\n        \"17\": \"CR4ZY\",\n        \"18\": \"Ence\",\n        \"19\": \"Avangar\",\n        \"20\": \"BIG\"\n      },\n      {\n        Ranker: \"riqatc\",\n        Country: \"USA\",\n        \"1\": \"EG\",\n        \"2\": \"Fnatic\",\n        \"3\": \"Astralis\",\n        \"4\": \"Liquid\",\n        \"5\": \"Vitality\",\n        \"6\": \"Furia\",\n        \"7\": \"100T\",\n        \"8\": \"G2\",\n        \"9\": \"NIP\",\n        \"10\": \"Faze\",\n        \"11\": \"Mousesports\",\n        \"12\": \"Heroic\",\n        \"13\": \"MIBR\",\n        \"14\": \"Avangar\",\n        \"15\": \"Navi\",\n        \"16\": \"Cr4zy\",\n        \"17\": \"Forze\",\n        \"18\": \"Ence\",\n        \"19\": \"Grayhound\",\n        \"20\": \"Tricked\"\n      },\n      {\n        Ranker: \"UHO\",\n        Country: \"Russia\",\n        \"1\": \"EG\",\n        \"2\": \"Astralis\",\n        \"3\": \"Vitality \",\n        \"4\": \"fnatic\",\n        \"5\": \"Liquid\",\n        \"6\": \"G2\",\n        \"7\": \"Avangar\",\n        \"8\": \"NiP\",\n        \"9\": \"navi\",\n        \"10\": \"Furia\",\n        \"11\": \"100T\",\n        \"12\": \"FaZe\",\n        \"13\": \"mousesports\",\n        \"14\": \"ENCE\",\n        \"15\": \"Mibr\",\n        \"16\": \"heroic\",\n        \"17\": \"North\",\n        \"18\": \"CR4ZY\",\n        \"19\": \"ForZe\",\n        \"20\": \"Grayhound\"\n      },\n      {\n        Ranker: \"H00V3R \",\n        Country: \"UK\",\n        \"1\": \"EG\",\n        \"2\": \"Astralis \",\n        \"3\": \"Fnatic\",\n        \"4\": \"100T\",\n        \"5\": \"Liquid\",\n        \"6\": \"Vitality\",\n        \"7\": \"Mousesports\",\n        \"8\": \"Furia\",\n        \"9\": \"G2\",\n        \"10\": \"FaZe\",\n        \"11\": \"Nip\",\n        \"12\": \"Navi\",\n        \"13\": \"CR4ZY\",\n        \"14\": \"Grayhound\",\n        \"15\": \"mibr\",\n        \"16\": \"Heroic\",\n        \"17\": \"Ence\",\n        \"18\": \"Avangar\",\n        \"19\": \"BIG\",\n        \"20\": \"North\"\n      }\n    ];\n    let rankings = [];\n    let allTeams = [];\n    this.setState({ numOfRankers: response.length });\n    for (let i = 0; i < response.length; i++) {\n      let individualRanking = {\n        ranker: response[i][\"Ranker\"],\n        country: response[i][\"Country\"],\n        rankings: []\n      };\n      for (let j = 1; j < 21; j++) {\n        let team = response[i][j];\n        individualRanking.rankings.push(team);\n      }\n\n      rankings.push(individualRanking);\n    }\n    for (let i = 0; i < rankings.length; i++) {\n      for (let j = 0; j < rankings[i].rankings.length; j++) {\n        let team = rankings[i].rankings[j].toLowerCase().trim();\n        let pointsToAdd = 20 - j;\n        let index = allTeams.findIndex(obj => obj.name === team);\n        if (index === -1) {\n          allTeams.push({\n            name: team,\n            points: pointsToAdd,\n            best: j + 1,\n            worst: j + 1,\n            appearances: 1\n          });\n        } else {\n          allTeams[index].points += pointsToAdd;\n          allTeams[index].appearances += 1;\n          if (j < allTeams[index].best) {\n            allTeams[index].best = j + 1;\n          } else if (j > allTeams[index].worst) {\n            allTeams[index].worst = j + 1;\n          }\n        }\n      }\n    }\n    allTeams = allTeams.sort((a, b) => (a.points < b.points ? 1 : -1));\n    this.setState({\n      rankedTeams: allTeams\n    });\n    console.log(this.state.rankedTeams);\n    return allTeams;\n  }\n  toggleAdmin() {\n    this.state.isAdmin\n      ? this.setState({ isAdmin: false })\n      : this.setState({ isAdmin: true });\n  }\n  switchTab() {\n    this.state.isHome\n      ? this.setState({ isHome: false })\n      : this.setState({ isHome: true });\n  }\n  render() {\n    if (this.state.isHome) {\n      // showRankingsPage\n      return (\n        <div>\n          <Header isHome={this.state.isHome} switch={this.switchTab} />\n          <AdminButtons sheetsuCall={this.callFirestore} />\n          <Table\n            className=\"rankingsTable\"\n            rankedTeams={this.state.rankedTeams}\n            rankersCount={this.state.numOfRankers}\n          />\n        </div>\n      );\n    } else {\n      // setRankingsPage\n      return (\n        <div>\n          <Header isHome={this.state.isHome} switch={this.switchTab} />\n          <Form />\n        </div>\n      );\n    }\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}