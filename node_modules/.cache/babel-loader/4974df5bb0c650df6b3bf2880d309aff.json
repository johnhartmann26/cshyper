{"ast":null,"code":"var _jsxFileName = \"/Users/home/dev/cshyper/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Header from \"./components/Header\";\nimport AdminButtons from \"./components/AdminButtons\";\nimport Table from \"./components/Table\";\nimport Form from \"./components/Form\";\nimport firebase from \"./firebase\";\nimport \"./App.css\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isHome: true,\n      numOfRankers: 0,\n      isAdmin: false,\n      rankedTeams: [{\n        name: \"astralis\",\n        points: 177,\n        best: 1,\n        worst: 4,\n        appearances: 9\n      }, {\n        name: \"evil geniuses\",\n        points: 166,\n        best: 2,\n        worst: 3,\n        appearances: 9\n      }]\n    };\n    this.setRankings = this.setRankings.bind(this);\n    this.toggleAdmin = this.toggleAdmin.bind(this);\n    this.switchTab = this.switchTab.bind(this);\n    this.callFirestore = this.callFirestore.bind(this);\n  }\n\n  callFirestore() {\n    // Get a reference to the database service\n    let db = firebase.firestore();\n    db.collection(\"rankings\").doc(\"testData\").get().then(querySnapshot => {\n      querySnapshot.forEach(doc => {\n        console.log(doc.data());\n      });\n    });\n  }\n\n  setRankings() {\n    // https://sheetsu.com/apis/v1.0bu/b38ae2ae1f75\n    let response = [{\n      Ranker: \"HTLV\",\n      Country: \"Denmark\",\n      \"1\": \"EG\",\n      \"2\": \"Astralis\",\n      \"3\": \"Fnatic\",\n      \"4\": \"Liquid\",\n      \"5\": \"Vitality\",\n      \"6\": \"Avangar\",\n      \"7\": \"NIP\",\n      \"8\": \"100T\",\n      \"9\": \"Faze\",\n      \"10\": \"Furia\",\n      \"11\": \"mousesports\",\n      \"12\": \"navi\",\n      \"13\": \"g2\",\n      \"14\": \"ence\",\n      \"15\": \"mibr\",\n      \"16\": \"forze\",\n      \"17\": \"heroic\",\n      \"18\": \"CR4ZY\",\n      \"19\": \"Grayhound\",\n      \"20\": \"tricked\"\n    }, {\n      Ranker: \"Duckwalk\",\n      Country: \"USA\",\n      \"1\": \"EG\",\n      \"2\": \"Astralis\",\n      \"3\": \"100T\",\n      \"4\": \"Fnatic\",\n      \"5\": \"Liquid\",\n      \"6\": \"Vitality\",\n      \"7\": \"G2\",\n      \"8\": \"Faze\",\n      \"9\": \"nip\",\n      \"10\": \"Furia\",\n      \"11\": \"Navi\",\n      \"12\": \"Mousesports\",\n      \"13\": \"Heroic\",\n      \"14\": \"Ence\",\n      \"15\": \"Avangar\",\n      \"16\": \"MIBR\",\n      \"17\": \"CR4ZY\",\n      \"18\": \"North\",\n      \"19\": \"Grayhound\",\n      \"20\": \"forZe\"\n    }, {\n      Ranker: \"kayzeno\",\n      Country: \"USA\",\n      \"1\": \"EG\",\n      \"2\": \"Astralis\",\n      \"3\": \"Fnatic\",\n      \"4\": \"Liquid\",\n      \"5\": \"G2\",\n      \"6\": \"100T\",\n      \"7\": \"Vitality\",\n      \"8\": \"NIP\",\n      \"9\": \"Faze\",\n      \"10\": \"Furia\",\n      \"11\": \"Mousesports\",\n      \"12\": \"Navi\",\n      \"13\": \"MIBR\",\n      \"14\": \"Heroic\",\n      \"15\": \"Ence\",\n      \"16\": \"Cr4zy\",\n      \"17\": \"North\",\n      \"18\": \"Avangar\",\n      \"19\": \"BIG\",\n      \"20\": \"Grayhound\"\n    }, {\n      Ranker: \"mayhem\",\n      Country: \"UK\",\n      \"1\": \"EG\",\n      \"2\": \"Astralis\",\n      \"3\": \"100T\",\n      \"4\": \"Liquid\",\n      \"5\": \"Fnatic\",\n      \"6\": \"Vitality\",\n      \"7\": \"G2\",\n      \"8\": \"NIP\",\n      \"9\": \"Navi\",\n      \"10\": \"Faze\",\n      \"11\": \"Mousesports\",\n      \"12\": \"heroic\",\n      \"13\": \"MIBR\",\n      \"14\": \"Grayhound\",\n      \"15\": \"North\",\n      \"16\": \"Furia\",\n      \"17\": \"CR4ZY\",\n      \"18\": \"Ence\",\n      \"19\": \"Avangar\",\n      \"20\": \"BIG\"\n    }, {\n      Ranker: \"riqatc\",\n      Country: \"USA\",\n      \"1\": \"EG\",\n      \"2\": \"Fnatic\",\n      \"3\": \"Astralis\",\n      \"4\": \"Liquid\",\n      \"5\": \"Vitality\",\n      \"6\": \"Furia\",\n      \"7\": \"100T\",\n      \"8\": \"G2\",\n      \"9\": \"NIP\",\n      \"10\": \"Faze\",\n      \"11\": \"Mousesports\",\n      \"12\": \"Heroic\",\n      \"13\": \"MIBR\",\n      \"14\": \"Avangar\",\n      \"15\": \"Navi\",\n      \"16\": \"Cr4zy\",\n      \"17\": \"Forze\",\n      \"18\": \"Ence\",\n      \"19\": \"Grayhound\",\n      \"20\": \"Tricked\"\n    }, {\n      Ranker: \"UHO\",\n      Country: \"Russia\",\n      \"1\": \"EG\",\n      \"2\": \"Astralis\",\n      \"3\": \"Vitality \",\n      \"4\": \"fnatic\",\n      \"5\": \"Liquid\",\n      \"6\": \"G2\",\n      \"7\": \"Avangar\",\n      \"8\": \"NiP\",\n      \"9\": \"navi\",\n      \"10\": \"Furia\",\n      \"11\": \"100T\",\n      \"12\": \"FaZe\",\n      \"13\": \"mousesports\",\n      \"14\": \"ENCE\",\n      \"15\": \"Mibr\",\n      \"16\": \"heroic\",\n      \"17\": \"North\",\n      \"18\": \"CR4ZY\",\n      \"19\": \"ForZe\",\n      \"20\": \"Grayhound\"\n    }, {\n      Ranker: \"H00V3R \",\n      Country: \"UK\",\n      \"1\": \"EG\",\n      \"2\": \"Astralis \",\n      \"3\": \"Fnatic\",\n      \"4\": \"100T\",\n      \"5\": \"Liquid\",\n      \"6\": \"Vitality\",\n      \"7\": \"Mousesports\",\n      \"8\": \"Furia\",\n      \"9\": \"G2\",\n      \"10\": \"FaZe\",\n      \"11\": \"Nip\",\n      \"12\": \"Navi\",\n      \"13\": \"CR4ZY\",\n      \"14\": \"Grayhound\",\n      \"15\": \"mibr\",\n      \"16\": \"Heroic\",\n      \"17\": \"Ence\",\n      \"18\": \"Avangar\",\n      \"19\": \"BIG\",\n      \"20\": \"North\"\n    }];\n    let rankings = [];\n    let allTeams = [];\n    this.setState({\n      numOfRankers: response.length\n    });\n\n    for (let i = 0; i < response.length; i++) {\n      let individualRanking = {\n        ranker: response[i][\"Ranker\"],\n        country: response[i][\"Country\"],\n        rankings: []\n      };\n\n      for (let j = 1; j < 21; j++) {\n        let team = response[i][j];\n        individualRanking.rankings.push(team);\n      }\n\n      rankings.push(individualRanking);\n    }\n\n    for (let i = 0; i < rankings.length; i++) {\n      for (let j = 0; j < rankings[i].rankings.length; j++) {\n        let team = rankings[i].rankings[j].toLowerCase().trim();\n        let pointsToAdd = 20 - j;\n        let index = allTeams.findIndex(obj => obj.name === team);\n\n        if (index === -1) {\n          allTeams.push({\n            name: team,\n            points: pointsToAdd,\n            best: j + 1,\n            worst: j + 1,\n            appearances: 1\n          });\n        } else {\n          allTeams[index].points += pointsToAdd;\n          allTeams[index].appearances += 1;\n\n          if (j < allTeams[index].best) {\n            allTeams[index].best = j + 1;\n          } else if (j > allTeams[index].worst) {\n            allTeams[index].worst = j + 1;\n          }\n        }\n      }\n    }\n\n    allTeams = allTeams.sort((a, b) => a.points < b.points ? 1 : -1);\n    this.setState({\n      rankedTeams: allTeams\n    });\n    console.log(this.state.rankedTeams);\n    return allTeams;\n  }\n\n  toggleAdmin() {\n    this.state.isAdmin ? this.setState({\n      isAdmin: false\n    }) : this.setState({\n      isAdmin: true\n    });\n  }\n\n  switchTab() {\n    this.state.isHome ? this.setState({\n      isHome: false\n    }) : this.setState({\n      isHome: true\n    });\n  }\n\n  render() {\n    if (this.state.isHome) {\n      // showRankingsPage\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, React.createElement(Header, {\n        isHome: this.state.isHome,\n        switch: this.switchTab,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }), React.createElement(AdminButtons, {\n        sheetsuCall: this.callFirestore,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }), React.createElement(Table, {\n        className: \"rankingsTable\",\n        rankedTeams: this.state.rankedTeams,\n        rankersCount: this.state.numOfRankers,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }));\n    } else {\n      // setRankingsPage\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }, React.createElement(Header, {\n        isHome: this.state.isHome,\n        switch: this.switchTab,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }), React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }));\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/home/dev/cshyper/src/App.js"],"names":["React","useState","useEffect","Header","AdminButtons","Table","Form","firebase","App","Component","constructor","props","state","isHome","numOfRankers","isAdmin","rankedTeams","name","points","best","worst","appearances","setRankings","bind","toggleAdmin","switchTab","callFirestore","db","firestore","collection","doc","get","then","querySnapshot","forEach","console","log","data","response","Ranker","Country","rankings","allTeams","setState","length","i","individualRanking","ranker","country","j","team","push","toLowerCase","trim","pointsToAdd","index","findIndex","obj","sort","a","b","render"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Header from \"./components/Header\";\nimport AdminButtons from \"./components/AdminButtons\";\nimport Table from \"./components/Table\";\nimport Form from \"./components/Form\";\nimport firebase from \"./firebase\";\nimport \"./App.css\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isHome: true,\n      numOfRankers: 0,\n      isAdmin: false,\n      rankedTeams: [\n        {\n          name: \"astralis\",\n          points: 177,\n          best: 1,\n          worst: 4,\n          appearances: 9\n        },\n        {\n          name: \"evil geniuses\",\n          points: 166,\n          best: 2,\n          worst: 3,\n          appearances: 9\n        }\n      ]\n    };\n    this.setRankings = this.setRankings.bind(this);\n    this.toggleAdmin = this.toggleAdmin.bind(this);\n    this.switchTab = this.switchTab.bind(this);\n    this.callFirestore = this.callFirestore.bind(this);\n  }\n\n  callFirestore() {\n    // Get a reference to the database service\n    let db = firebase.firestore();\n    db.collection(\"rankings\")\n      .doc(\"testData\")\n      .get()\n      .then(querySnapshot => {\n        querySnapshot.forEach(doc => {\n          console.log(doc.data());\n        });\n      });\n  }\n\n  setRankings() {\n    // https://sheetsu.com/apis/v1.0bu/b38ae2ae1f75\n    let response = [\n      {\n        Ranker: \"HTLV\",\n        Country: \"Denmark\",\n        \"1\": \"EG\",\n        \"2\": \"Astralis\",\n        \"3\": \"Fnatic\",\n        \"4\": \"Liquid\",\n        \"5\": \"Vitality\",\n        \"6\": \"Avangar\",\n        \"7\": \"NIP\",\n        \"8\": \"100T\",\n        \"9\": \"Faze\",\n        \"10\": \"Furia\",\n        \"11\": \"mousesports\",\n        \"12\": \"navi\",\n        \"13\": \"g2\",\n        \"14\": \"ence\",\n        \"15\": \"mibr\",\n        \"16\": \"forze\",\n        \"17\": \"heroic\",\n        \"18\": \"CR4ZY\",\n        \"19\": \"Grayhound\",\n        \"20\": \"tricked\"\n      },\n      {\n        Ranker: \"Duckwalk\",\n        Country: \"USA\",\n        \"1\": \"EG\",\n        \"2\": \"Astralis\",\n        \"3\": \"100T\",\n        \"4\": \"Fnatic\",\n        \"5\": \"Liquid\",\n        \"6\": \"Vitality\",\n        \"7\": \"G2\",\n        \"8\": \"Faze\",\n        \"9\": \"nip\",\n        \"10\": \"Furia\",\n        \"11\": \"Navi\",\n        \"12\": \"Mousesports\",\n        \"13\": \"Heroic\",\n        \"14\": \"Ence\",\n        \"15\": \"Avangar\",\n        \"16\": \"MIBR\",\n        \"17\": \"CR4ZY\",\n        \"18\": \"North\",\n        \"19\": \"Grayhound\",\n        \"20\": \"forZe\"\n      },\n      {\n        Ranker: \"kayzeno\",\n        Country: \"USA\",\n        \"1\": \"EG\",\n        \"2\": \"Astralis\",\n        \"3\": \"Fnatic\",\n        \"4\": \"Liquid\",\n        \"5\": \"G2\",\n        \"6\": \"100T\",\n        \"7\": \"Vitality\",\n        \"8\": \"NIP\",\n        \"9\": \"Faze\",\n        \"10\": \"Furia\",\n        \"11\": \"Mousesports\",\n        \"12\": \"Navi\",\n        \"13\": \"MIBR\",\n        \"14\": \"Heroic\",\n        \"15\": \"Ence\",\n        \"16\": \"Cr4zy\",\n        \"17\": \"North\",\n        \"18\": \"Avangar\",\n        \"19\": \"BIG\",\n        \"20\": \"Grayhound\"\n      },\n      {\n        Ranker: \"mayhem\",\n        Country: \"UK\",\n        \"1\": \"EG\",\n        \"2\": \"Astralis\",\n        \"3\": \"100T\",\n        \"4\": \"Liquid\",\n        \"5\": \"Fnatic\",\n        \"6\": \"Vitality\",\n        \"7\": \"G2\",\n        \"8\": \"NIP\",\n        \"9\": \"Navi\",\n        \"10\": \"Faze\",\n        \"11\": \"Mousesports\",\n        \"12\": \"heroic\",\n        \"13\": \"MIBR\",\n        \"14\": \"Grayhound\",\n        \"15\": \"North\",\n        \"16\": \"Furia\",\n        \"17\": \"CR4ZY\",\n        \"18\": \"Ence\",\n        \"19\": \"Avangar\",\n        \"20\": \"BIG\"\n      },\n      {\n        Ranker: \"riqatc\",\n        Country: \"USA\",\n        \"1\": \"EG\",\n        \"2\": \"Fnatic\",\n        \"3\": \"Astralis\",\n        \"4\": \"Liquid\",\n        \"5\": \"Vitality\",\n        \"6\": \"Furia\",\n        \"7\": \"100T\",\n        \"8\": \"G2\",\n        \"9\": \"NIP\",\n        \"10\": \"Faze\",\n        \"11\": \"Mousesports\",\n        \"12\": \"Heroic\",\n        \"13\": \"MIBR\",\n        \"14\": \"Avangar\",\n        \"15\": \"Navi\",\n        \"16\": \"Cr4zy\",\n        \"17\": \"Forze\",\n        \"18\": \"Ence\",\n        \"19\": \"Grayhound\",\n        \"20\": \"Tricked\"\n      },\n      {\n        Ranker: \"UHO\",\n        Country: \"Russia\",\n        \"1\": \"EG\",\n        \"2\": \"Astralis\",\n        \"3\": \"Vitality \",\n        \"4\": \"fnatic\",\n        \"5\": \"Liquid\",\n        \"6\": \"G2\",\n        \"7\": \"Avangar\",\n        \"8\": \"NiP\",\n        \"9\": \"navi\",\n        \"10\": \"Furia\",\n        \"11\": \"100T\",\n        \"12\": \"FaZe\",\n        \"13\": \"mousesports\",\n        \"14\": \"ENCE\",\n        \"15\": \"Mibr\",\n        \"16\": \"heroic\",\n        \"17\": \"North\",\n        \"18\": \"CR4ZY\",\n        \"19\": \"ForZe\",\n        \"20\": \"Grayhound\"\n      },\n      {\n        Ranker: \"H00V3R \",\n        Country: \"UK\",\n        \"1\": \"EG\",\n        \"2\": \"Astralis \",\n        \"3\": \"Fnatic\",\n        \"4\": \"100T\",\n        \"5\": \"Liquid\",\n        \"6\": \"Vitality\",\n        \"7\": \"Mousesports\",\n        \"8\": \"Furia\",\n        \"9\": \"G2\",\n        \"10\": \"FaZe\",\n        \"11\": \"Nip\",\n        \"12\": \"Navi\",\n        \"13\": \"CR4ZY\",\n        \"14\": \"Grayhound\",\n        \"15\": \"mibr\",\n        \"16\": \"Heroic\",\n        \"17\": \"Ence\",\n        \"18\": \"Avangar\",\n        \"19\": \"BIG\",\n        \"20\": \"North\"\n      }\n    ];\n    let rankings = [];\n    let allTeams = [];\n    this.setState({ numOfRankers: response.length });\n    for (let i = 0; i < response.length; i++) {\n      let individualRanking = {\n        ranker: response[i][\"Ranker\"],\n        country: response[i][\"Country\"],\n        rankings: []\n      };\n      for (let j = 1; j < 21; j++) {\n        let team = response[i][j];\n        individualRanking.rankings.push(team);\n      }\n\n      rankings.push(individualRanking);\n    }\n    for (let i = 0; i < rankings.length; i++) {\n      for (let j = 0; j < rankings[i].rankings.length; j++) {\n        let team = rankings[i].rankings[j].toLowerCase().trim();\n        let pointsToAdd = 20 - j;\n        let index = allTeams.findIndex(obj => obj.name === team);\n        if (index === -1) {\n          allTeams.push({\n            name: team,\n            points: pointsToAdd,\n            best: j + 1,\n            worst: j + 1,\n            appearances: 1\n          });\n        } else {\n          allTeams[index].points += pointsToAdd;\n          allTeams[index].appearances += 1;\n          if (j < allTeams[index].best) {\n            allTeams[index].best = j + 1;\n          } else if (j > allTeams[index].worst) {\n            allTeams[index].worst = j + 1;\n          }\n        }\n      }\n    }\n    allTeams = allTeams.sort((a, b) => (a.points < b.points ? 1 : -1));\n    this.setState({\n      rankedTeams: allTeams\n    });\n    console.log(this.state.rankedTeams);\n    return allTeams;\n  }\n  toggleAdmin() {\n    this.state.isAdmin\n      ? this.setState({ isAdmin: false })\n      : this.setState({ isAdmin: true });\n  }\n  switchTab() {\n    this.state.isHome\n      ? this.setState({ isHome: false })\n      : this.setState({ isHome: true });\n  }\n  render() {\n    if (this.state.isHome) {\n      // showRankingsPage\n      return (\n        <div>\n          <Header isHome={this.state.isHome} switch={this.switchTab} />\n          <AdminButtons sheetsuCall={this.callFirestore} />\n          <Table\n            className=\"rankingsTable\"\n            rankedTeams={this.state.rankedTeams}\n            rankersCount={this.state.numOfRankers}\n          />\n        </div>\n      );\n    } else {\n      // setRankingsPage\n      return (\n        <div>\n          <Header isHome={this.state.isHome} switch={this.switchTab} />\n          <Form />\n        </div>\n      );\n    }\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}